webpackJsonp([10],{117:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var o="";"sit"==e.i({NODE_ENV:"production"}).env_config?o="http://pat.pa.com":"prod"==e.i({NODE_ENV:"production"}).env_config&&(o="http://pa.pa.com")},118:function(t,n,e){"use strict";function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new FormData;for(var e in t)n.append(e,t[e]);return n}var a=e(54),r=e.n(a),i=e(18),u=e.n(i),c=e(59),p=e.n(c),d=e(56),s=e.n(d),f=e(57),l=e.n(f),h=e(58),m=e.n(h),v=e(53),g=e.n(v),w=e(117),b=e(29),S=this;n.a=function(){var t=g()(r.a.mark(function t(n){var a,i,c,d,f,h,v=n.url,g=void 0===v?"":v,_=n.data,I=void 0===_?{}:_,y=n.type,L=void 0===y?"GET":y,O=n.method,T=void 0===O?"fetch":O,E=n.contentType,P=void 0===E?"":E;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.i(b.b)("adminInfo"),i="",-1==g.indexOf("api-token-auth")&&(i=a&&a.token),L=L.toUpperCase(),g=w.a+g,"GET"==L&&(c="",m()(I).forEach(function(t){c+=t+"="+I[t]+"&"}),""!==c&&(c=c.substr(0,c.lastIndexOf("&")),g=g+"?"+c)),!window.fetch||"fetch"!=T){t.next=26;break}return d={credentials:"include",method:L,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:i?"Token "+i:null},mode:"cors",cache:"force-cache"},"POST"==L&&("formData"==P?(l()(d,{body:o(I)}),delete d.headers["Content-Type"]):Object.defineProperty(d,"body",{value:s()(I)})),console.log("请求发出=================",d),t.prev=10,t.next=13,fetch(g,d);case 13:return f=t.sent,t.next=16,f.json();case 16:return h=t.sent,console.log("请求返回=================",h),t.abrupt("return",h);case 21:throw t.prev=21,t.t0=t.catch(10),new Error(t.t0);case 24:t.next=27;break;case 26:return t.abrupt("return",new p.a(function(t,n){var e=void 0;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var o="";"POST"==L&&(o=s()(I)),e.open(L,g,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(o),e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status){var o=e.response;"object"!==(void 0===o?"undefined":u()(o))&&(o=JSON.parse(o)),t(o)}else n(e)}}));case 27:case"end":return t.stop()}},t,S,[[10,21]])}));return function(n){return t.apply(this,arguments)}}()},119:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(2),a=e(90),r=e.n(a),i=e(50),u=e(51),c=e(88),p=e.n(c),d=(e(87),e(89));e.n(d);o.default.config.productionTip=!1,o.default.use(p.a),window.ElementUI=p.a,new o.default({el:"#app",router:i.a,store:u.a,template:"<App/>",components:{App:r.a}})},120:function(t,n,e){"use strict";var o={adminInfo:function(t){return t.product.adminInfo},defaultRouter:function(t){return t.product.defaultRouter},applicationId:function(t){return t.product.applicationId},appList:function(t){return t.product.appList},group:function(t){return t.product.group}};n.a=o},121:function(t,n,e){"use strict";var o=e(54),a=e.n(o),r=e(53),i=e.n(r),u=e(93),c=e(29),p={state:{adminInfo:{},group:[],applicationId:"",appList:[]},mutations:{GET_ADMININFO:function(t,n){t.adminInfo=n,e.i(c.a)("adminInfo",n)},GET_ADMIN_GROUP:function(t,n){t.group=n},SELECT_IOS_ANDROID:function(t,n){t.applicationId=n},GET_APP_LIST:function(t,n){t.appList=n}},actions:{submitLogin:function(t,n,o){var r=t.commit,c=this;return i()(a.a.mark(function t(){var i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.i(u.a)(n);case 2:i=t.sent,200==i.code?(ElementUI.Message({type:"success",message:"登录成功"}),r("GET_ADMININFO",i.data),"function"==typeof o&&o(i.data)):ElementUI.Message({type:"error",message:i.message||"登陆失败"});case 4:case"end":return t.stop()}},t,c)}))()},getAdminGroup:function(t){var n=this,o=t.commit,r=t.state;return i()(a.a.mark(function t(){var i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("state--",r),console.log("state--",r.adminInfo.token),t.next=4,e.i(u.b)();case 4:if(i=t.sent,console.log("产品种类",i),200!=i.code){t.next=10;break}o("GET_ADMIN_GROUP",i.data),t.next=11;break;case 10:throw"请求app列表失败";case 11:case"end":return t.stop()}},t,n)}))()}}};n.a=p},122:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={}},185:function(t,n){},186:function(t,n){},198:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"fillcontain",attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]}},29:function(t,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return u}),e.d(n,"c",function(){return c}),e.d(n,"d",function(){return p});var o=e(58),a=(e.n(o),e(56)),r=e.n(a),i=function(t,n){t&&("string"!=typeof n&&(n=r()(n)),window.localStorage.setItem(t,n))},u=function(t){if(t){var n=window.localStorage.getItem(t),e=null;try{e=n&&("string"==typeof n?JSON.parse(n):n)}catch(t){console.info("getItem JSON parse Object<string> error",t),e=n}return e}},c=function(t){t&&window.localStorage.removeItem(t)},p=function(){var t=u("adminInfo");return t&&t.token}},50:function(t,n,e){"use strict";var o=e(2),a=e(199);o.default.use(a.a);var r=function(t){return e.e(7).then(function(){return t(e(208))}.bind(null,e)).catch(e.oe)},i=function(t){return e.e(6).then(function(){return t(e(209))}.bind(null,e)).catch(e.oe)},u=function(t){return e.e(8).then(function(){return t(e(207))}.bind(null,e)).catch(e.oe)},c=function(t){return e.e(5).then(function(){return t(e(203))}.bind(null,e)).catch(e.oe)},p=function(t){return e.e(0).then(function(){return t(e(210))}.bind(null,e)).catch(e.oe)},d=function(t){return e.e(2).then(function(){return t(e(205))}.bind(null,e)).catch(e.oe)},s=function(t){return e.e(1).then(function(){return t(e(206))}.bind(null,e)).catch(e.oe)},f=function(t){return e.e(3).then(function(){return t(e(211))}.bind(null,e)).catch(e.oe)},l=function(t){return e.e(4).then(function(){return t(e(204))}.bind(null,e)).catch(e.oe)},h=[{path:"/",redirect:{path:"/login"}},{name:"login",path:"/login",component:r},{path:"/manage",component:i,children:[{path:"",component:u,meta:[]},{path:"/SMproduct",component:c,meta:[{title:"ALPS",id:"1-1"},{title:"产品",id:"1-2",path:"/SMproduct"}]},{path:"/productList",component:p,meta:[{title:"ALPS",id:"2-1"},{title:"产品",id:"2-2",path:"/SMproduct?flag=/productList&isDivide=true"},{title:"产品列表",id:"2-3",path:"/productList"}]},{path:"/downloadList",component:d,meta:[{title:"ALPS",id:"3-1"},{title:"产品",id:"3-2",path:"/SMproduct?flag=/downloadList&isDivide=false"},{title:"邮件配置列表",id:"3-3",path:"/downloadList"}]},{path:"/emailList",component:s,meta:[{title:"ALPS",id:"4-1"},{title:"产品",id:"4-2",path:"/SMproduct?flag=/emailList&isDivide=false"},{title:"邮件配置列表",id:"4-3",path:"/emailList"}]},{path:"/upload",component:f,meta:[{title:"ALPS",id:"5-1"},{title:"文件上传",id:"5-2",path:"/upload"}]},{path:"/detail",component:l,meta:[{title:"ALPS",id:"5-1"},{title:"产品",id:"5-2",path:"/SMproduct?flag=/productList"},{title:"产品列表",id:"5-3",path:"/productList"},{title:"add",id:"5-4",path:"/detail"}]}]}];n.a=new a.a({routes:h,strict:!1})},51:function(t,n,e){"use strict";var o=e(2),a=e(92),r=e(121),i=e(120);o.default.use(a.a);var u=new a.a.Store({modules:{product:r.a},getters:i.a});n.a=u},87:function(t,n,e){"use strict";var o=e(50),a=(e(51),e(192)),r=e.n(a),i=e(185),u=(e.n(i),e(29));r.a.configure({showSpinner:!1});var c=["/login","/authredirect"];o.a.beforeEach(function(t,n,o){console.log("router beforeEach",t,"oooo",n,"pppppp",o),r.a.start(),e.i(u.d)()?o():-1!==c.indexOf(t.path)?o():(o("/login"),r.a.done())}),o.a.afterEach(function(){r.a.done()})},89:function(t,n){},90:function(t,n,e){e(186);var o=e(91)(e(122),e(198),null,null);t.exports=o.exports},93:function(t,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r}),e.d(n,"e",function(){return i}),e.d(n,"d",function(){return u}),e.d(n,"c",function(){return c});var o=e(118),a=function(t){return e.i(o.a)({url:"/alps/api-token-auth",data:t,type:"POST"})},r=function(){return e.i(o.a)({url:"/alps/admin_group"})},i=function(t){return e.i(o.a)({url:"/alps/admin_app_list",data:t,type:"POST",contentType:"formData"})},u=function(t){return e.i(o.a)({url:"/alps/admin_app_download_list",data:t,type:"POST",contentType:"formData"})},c=function(t){return e.i(o.a)({url:"/alps/admin_app_email_config_list",data:t,type:"POST",contentType:"formData"})}}},[119]);
